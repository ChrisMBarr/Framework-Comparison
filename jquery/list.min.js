var todo=function(){var e="info",t,n,r;$(function(){t=$("#todo");n=$("#item-template");r=$("#txt-item-add");i.interaction();i.populateList()});var i={interaction:function(){function t(){var e=r.val();$.trim(e)!==""&&s.addItem({text:e,complete:!1});r.val("");o.saveList()}n.find(".btn-mark-complete").click(function(){s.markItem.call(this,!0);o.saveList()});n.find(".btn-mark-incomplete").click(function(){s.markItem.call(this,!1);o.saveList()});$("#btn-item-add").click(t);r.keyup(function(e){e.keyCode===13&&t()});$("#btn-remove-completed").click(function(){o.getListItems().each(function(){var t=$(this);t.data(e).complete&&t.remove()});o.saveList()})},populateList:function(){$.each(localStorage.getList(),function(){s.addItem(this)})}},s={addItem:function(t){n.clone(!0).removeClass("hide").removeAttr("id").insertBefore(n).toggleClass("state-complete",t.complete).data(e,t).find(".item-text").text(t.text)},markItem:function(t){var n=$(this).parent();n.toggleClass("state-complete",t);n.data(e).complete=t}},o={getListItems:function(){return t.children().not("#item-template")},getListData:function(){var t=[];o.getListItems().each(function(){t.push($(this).data(e))});return t},saveList:function(){localStorage.saveList(o.getListData())}}}();