var todo=function(){var e=[{id:1,text:"Buy some pies",complete:!0},{id:2,text:"Eat the pies",complete:!1},{id:3,text:"Go buy more pies",complete:!1}],t="info",n,r,i;$(function(){n=$("#todo");r=$("#item-template");i=$("#txt-item-add");s.interaction();s.populateList()});var s={interaction:function(){function e(){var e=i.val();$.trim(e)!==""&&o.addItem({text:e,complete:!1,id:u.getNextHighestId()});i.val("")}r.find(".btn-mark-complete").click(function(){o.markItem.call(this,!0)});r.find(".btn-mark-incomplete").click(function(){o.markItem.call(this,!1)});$("#btn-item-add").click(e);i.keyup(function(t){t.keyCode===13&&e()});$("#btn-remove-completed").click(function(){u.getListItems().each(function(){var e=$(this);e.data(t).complete&&e.remove()})})},populateList:function(){$.each(e,function(){o.addItem(this)})}},o={addItem:function(e){r.clone(!0).removeClass("hide").removeAttr("id").appendTo(n).toggleClass("state-complete",e.complete).data(t,e).find(".item-text").text(e.text)},markItem:function(e){var n=$(this).parent();n.toggleClass("state-complete",e);n.data(t).complete=e}},u={getNextHighestId:function(){var e=u.getListItems();return e.length>0?e.last().data(t).id+1:0},getListItems:function(){return n.children().not("#item-template")}}}();